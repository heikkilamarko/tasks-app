{{ define "active_tasks" }}
	<!doctype html>
	<html>
		{{ template "html_head" . }}
		<body class="p-3" data-bs-theme="{{ .Theme }}">
			<main class="container slide-transition">
				{{ template "navbar" . }}
				<div class="row g-2 mt-3">
					<div class="col-6 col-md-auto">
						<button
							hx-get="/ui/tasks"
							hx-target="#tasks-table"
							hx-indicator=".loading-indicator"
							class="btn btn-outline-primary rounded-pill px-4 w-100"
							_="on click toggle @disabled until htmx:afterOnLoad"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="16"
								height="16"
								fill="currentColor"
								class="bi bi-arrow-clockwise"
								viewBox="0 0 16 16"
							>
								<path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2z" />
								<path
									d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466"
								/>
							</svg>
							Refresh
							<span class="spinner-grow spinner-grow-sm ms-2 loading-indicator" aria-hidden="true"></span>
						</button>
					</div>

					<div class="col-6 col-md-auto">
						<button
							hx-get="/ui/tasks/new"
							hx-target="#tasks-table"
							class="btn btn-outline-primary rounded-pill px-4 w-100"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="16"
								height="16"
								fill="currentColor"
								class="bi bi-plus-lg"
								viewBox="0 0 16 16"
							>
								<path
									fill-rule="evenodd"
									d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"
								/>
							</svg>
							New Task
						</button>
					</div>

					<div class="col-6 col-md-auto">
						<a href="/ui/tasks/export?filter=active" download class="btn btn-outline-primary rounded-pill px-4 w-100">
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="16"
								height="16"
								fill="currentColor"
								class="bi bi-download"
								viewBox="0 0 16 16"
							>
								<path
									d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"
								/>
								<path
									d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708z"
								/>
							</svg>
							Export Tasks
						</a>
					</div>
				</div>

				<div id="tasks-table" class="mt-3">
					{{ template "active_tasks_table" . }}
				</div>
			</main>
			{{ template "active_tasks_modals" }}
			{{ template "toaster" }}
		</body>
	</html>
{{ end }}
