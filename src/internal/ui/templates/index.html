<!doctype html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Tasks App</title>
		<script src="https://unpkg.com/htmx.org@1.9.5"></script>
		<script src="https://unpkg.com/hyperscript.org@0.9.11"></script>
		<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
		<script src="ui/static/app.js" type="module"></script>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9"
			crossorigin="anonymous"
		/>
		<link href="ui/static/app.css" rel="stylesheet" />
	</head>
	<body class="p-3">
		<main class="container">
			<h1>Tasks App</h1>

			<div class="mt-3">
				<button hx-get="/ui/tasks/new" hx-target="#tasks-table" class="btn btn-primary rounded-pill px-4">
					New Task
				</button>

				<button
					hx-get="/ui/tasks"
					hx-target="#tasks-table"
					hx-indicator=".loading-indicator"
					class="btn btn-outline-secondary rounded-pill px-4 ms-2"
					_="on click toggle @disabled until htmx:afterOnLoad"
				>
					Refresh
					<span class="spinner-grow spinner-grow-sm ms-2 loading-indicator" aria-hidden="true"></span>
				</button>
			</div>

			<div id="tasks-table" class="mt-3">
				{{ template "tasks_table.html" . }}
			</div>
		</main>
	</body>
</html>
